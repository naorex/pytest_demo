# pytest ライブラリでのテストコード

## アプリ開発におけるテスト

以下の種類あり。

- 単体テスト
  - テストが可能さ最小単位（関数・メソッド）で動作を確認
- システムテスト
  - 実際の使用を想定した一連の処理
- セキュリティテスト
  - システムの脆弱性の有無確認
- 性能テスト
  - システムに必要な性能を満たしているかの確認
- リグレッションテスト
  - システムの変更後に意図しない変更が含まれない事を確認

## まずは単体テストから

テストコードを使ってアプリに含まれるコードを動かし、想定通りの結果になるかを確認する一連の作業。
理想的にはすべてのコードに対してテストコードを書くべきだが、現実的には優先順位を付けてテストコードを書く。

## pytest の使用例

Python 標準には `unittest` という組み込みライブラリがあるが、`pytest` を使う方が主流。

サンプルのフォルダ階層

```text
src
├ __init__.py  // -> このディレクトリがパッケージである事を明示するためだけのファイル
├ module_1.py
└ module_2.py
tests
├ __init__.py
├ test_module_1.py
└ test_module_2.py
pytest.ini     // -> pytest ライブラリにパスを認識させるための設定ファイル
```

テスト実行時には、ルートディレクトリにて `pytest` コマンドを実行。

基本的には **test\_.py** や **\_test.py** という名称が付くファイルを探して全て実行する仕様。

単一のファイルのみテスト実行させる場合は、`pytest tests/test_modulue_2.py` のように引数を与える。
